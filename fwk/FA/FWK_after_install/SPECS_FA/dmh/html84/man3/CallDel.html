<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
<HTML><HEAD>
<A NAME="Tcl_CallWhenDeleted_Tcl_7_0"></A>
<TITLE>Tcl_CallWhenDeleted Tcl Library Procedures 7.0</TITLE></HEAD>
<BODY>
<HR>
<P>
<H2>NAME</H2>
 Tcl_CallWhenDeleted, Tcl_DontCallWhenDeleted - Arrange for callback when interpreter is deleted <P>
<H2>SYNOPSIS</H2>
 
<B>#include &lt;tcl.h&gt;</B>
<P>
<B>Tcl_CallWhenDeleted</B>(<I>interp</I>, <I>proc</I>, <I>clientData</I>)
<P>
<B>Tcl_DontCallWhenDeleted</B>(<I>interp</I>, <I>proc</I>, <I>clientData</I>)
<P>
<H2>ARGUMENTS</H2>

<P><DT><B>Tcl_Interp <I>*interp</I></B> (in)
<DD>Interpreter with which to associated callback.
<P><DT><B>Tcl_InterpDeleteProc <I>*proc</I></B> (in)
<DD>Procedure to call when <I>interp</I> is deleted.
<P><DT><B>ClientData <I>clientData</I></B> (in)
<DD>Arbitrary one-word value to pass to <I>proc</I>.
<HR>
<P>
<P>
<H2>DESCRIPTION</H2>

<P>
<B>Tcl_CallWhenDeleted</B> arranges for <I>proc</I> to be called by
<B>Tcl_DeleteInterp</B> if/when <I>interp</I> is deleted at some future
time.  <I>Proc</I> will be invoked just before the interpreter
is deleted, but the interpreter will still be valid at the
time of the call.
<I>Proc</I> should have arguments and result that match the
type <B>Tcl_InterpDeleteProc</B>:
<PRE>
typedef void Tcl_InterpDeleteProc(
	ClientData <I>clientData</I>,
	Tcl_Interp *<I>interp</I>);
</PRE>
The <I>clientData</I> and <I>interp</I> parameters are copies of the <I>clientData</I> and <I>interp</I> arguments given to <B>Tcl_CallWhenDeleted</B>. Typically, <I>clientData</I> points to an application-specific data structure that <I>proc</I> uses to perform cleanup when an interpreter is about to go away. <I>Proc</I> does not return a value. <P>
<B>Tcl_DontCallWhenDeleted</B> cancels a previous call to <B>Tcl_CallWhenDeleted</B> with the same arguments, so that <I>proc</I> won't be called after all when <I>interp</I> is deleted. If there is no deletion callback that matches <I>interp</I>, <I>proc</I>, and <I>clientData</I> then the call to <B>Tcl_DontCallWhenDeleted</B> has no effect. <P>
<P>
<H2>KEYWORDS</H2>
 callback, delete, interpreter 
</BODY>
</HTML>
