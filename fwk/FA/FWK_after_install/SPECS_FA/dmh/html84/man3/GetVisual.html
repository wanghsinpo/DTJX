<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
<HTML><HEAD>
<A NAME="Tk_GetVisual_Tk_4_0"></A>
<TITLE>Tk_GetVisual Tk Library Procedures 4.0</TITLE></HEAD>
<BODY>
<HR>
<P>
<H2>NAME</H2>
 Tk_GetVisual - translate from string to visual <P>
<H2>SYNOPSIS</H2>
 
<B>#include &lt;tk.h&gt;</B>
<P>
Visual *
<B>Tk_GetVisual(<I>interp, tkwin, string, depthPtr, colormapPtr)</B></I>
<P>
<H2>ARGUMENTS</H2>

<P><DT><B>Tcl_Interp <I>*interp</I></B> (in)
<DD>Interpreter to use for error reporting.
<P><DT><B>Tk_Window <I>tkwin</I></B> (in)
<DD>Token for window in which the visual will be used.
<P><DT><B>CONST char <I>*string</I></B> (in)
<DD>String that identifies the desired visual.  See below for
valid formats.
<P><DT><B>int <I>*depthPtr</I></B> (out)
<DD>Depth of returned visual gets stored here.
<P><DT><B>Colormap <I>*colormapPtr</I></B> (out)
<DD>If non-NULL then a suitable colormap for visual is found and its
identifier is stored here.
<HR>
<P>
<P>
<H2>DESCRIPTION</H2>

<P>
<B>Tk_GetVisual</B> takes a string description of a visual and
finds a suitable X Visual for use in <I>tkwin</I>, if there is one.
It returns a pointer to the X Visual structure for the visual
and stores the number of bits per pixel for it at <I>*depthPtr</I>.
If <I>string</I> is unrecognizable or if no suitable visual could
be found, then NULL is returned and <B>Tk_GetVisual</B> leaves
an error message in <I>interp-&gt;result</I>.
If <I>colormap</I> is non-NULL then <B>Tk_GetVisual</B>
also locates an appropriate colormap for use with the result visual
and stores its X identifier at <I>*colormapPtr</I>.
<P>
The <I>string</I> argument specifies the desired visual in one
of the following ways:

<DT><I>class depth</I>
<DD>The string consists of a class name followed by an integer depth, with any amount of white space (including none) in between. <I>class</I> selects what sort of visual is desired and must be one of <B>directcolor</B>, <B>grayscale</B>, <B>greyscale</B>, <B>pseudocolor</B>, <B>staticcolor</B>, <B>staticgray</B>, <B>staticgrey</B>, or <B>truecolor</B>, or a unique abbreviation. <I>depth</I> specifies how many bits per pixel are needed for the visual. If possible, <B>Tk_GetVisual</B> will return a visual with this depth; if there is no visual of the desired depth then <B>Tk_GetVisual</B> looks first for a visual with greater depth, then one with less depth. 
<DT><B>default</B>
<DD>Use the default visual for <I>tkwin</I>'s screen. 
<DT><I>pathName</I>
<DD>Use the visual for the window given by <I>pathName</I>. <I>pathName</I> must be the name of a window on the same screen as <I>tkwin</I>. 
<DT><I>number</I>
<DD>Use the visual whose X identifier is <I>number</I>. 
<DT><B>best</B> ?<I>depth</I>?
<DD>Choose the ``best possible'' visual, using the following rules, in decreasing order of priority: (a) a visual that has exactly the desired depth is best, followed by a visual with greater depth than requested (but as little extra as possible), followed by a visual with less depth than requested (but as great a depth as possible); (b) if no <I>depth</I> is specified, then the deepest available visual is chosen; (c) <B>pseudocolor</B> is better than <B>truecolor</B> or <B>directcolor</B>, which are better than <B>staticcolor</B>, which is better than <B>staticgray</B> or <B>grayscale</B>; (d) the default visual for the screen is better than any other visual. <P>
<P>
<H2>CREDITS</H2>
 <P>
The idea for <B>Tk_GetVisual</B>, and the first implementation, came from Paul Mackerras. <P>
<P>
<H2>KEYWORDS</H2>
 colormap, screen, visual 
</BODY>
</HTML>
