<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
<HTML><HEAD>
<A NAME="Tcl_GetOpenFile_Tcl_8_0"></A>
<TITLE>Tcl_GetOpenFile Tcl Library Procedures 8.0</TITLE></HEAD>
<BODY>
<HR>
<P>
<H2>NAME</H2>
 Tcl_GetOpenFile - Get a standard IO File * handle from a channel. (Unix only) <P>
<H2>SYNOPSIS</H2>
 
<B>#include &lt;tcl.h&gt;</B>
<P>
int
<B>Tcl_GetOpenFile</B>(<I>interp, string, write, checkUsage, filePtr</I>)
<P>
<P>
<H2>ARGUMENTS</H2>

<P><DT><B>Tcl_Interp <I>*interp</I></B> (in)
<DD>Tcl interpreter from which file handle is to be obtained.
<P><DT><B>CONST char <I>*string</I></B> (in)
<DD>String identifying channel, such as <B>stdin</B> or <B>file4</B>.
<P><DT><B>int <I>write</I></B> (in)
<DD>Non-zero means the file will be used for writing, zero means it will
be used for reading.
<P><DT><B>int <I>checkUsage</I></B> (in)
<DD>If non-zero, then an error will be generated if the file wasn't opened
for the access indicated by <I>write</I>.
<P><DT><B>ClientData <I>*filePtr</I></B> (out)
<DD>Points to word in which to store pointer to FILE structure for
the file given by <I>string</I>.
<HR>
<P>
<P>
<H2>DESCRIPTION</H2>

<P>
<B>Tcl_GetOpenFile</B> takes as argument a file identifier of the form
returned by the <B>open</B> command and
returns at <I>*filePtr</I> a pointer to the FILE structure for
the file.
The <I>write</I> argument indicates whether the FILE pointer will
be used for reading or writing.
In some cases, such as a channel that connects to a pipeline of
subprocesses, different FILE pointers will be returned for reading
and writing.
<B>Tcl_GetOpenFile</B> normally returns TCL_OK.
If an error occurs in <B>Tcl_GetOpenFile</B> (e.g. <I>string</I> didn't
make any sense or <I>checkUsage</I> was set and the file wasn't opened
for the access specified by <I>write</I>) then TCL_ERROR is returned
and the interpreter's result will contain an error message.
In the current implementation <I>checkUsage</I> is ignored and consistency
checks are always performed.
<P>
Note that this interface is only supported on the Unix platform.
<P>
<P>
<H2>KEYWORDS</H2>

channel, file handle, permissions, pipeline, read, write

</BODY>
</HTML>
