<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
<HTML><HEAD>
<A NAME="Tcl_CreateTimerHandler_Tcl_7_5"></A>
<TITLE>Tcl_CreateTimerHandler Tcl Library Procedures 7.5</TITLE></HEAD>
<BODY>
<HR>
<P>
<H2>NAME</H2>
 Tcl_CreateTimerHandler, Tcl_DeleteTimerHandler - call a procedure at a given time <P>
<H2>SYNOPSIS</H2>
 
<B>#include &lt;tcl.h&gt;</B>
<P>
Tcl_TimerToken
<B>Tcl_CreateTimerHandler</B>(<I>milliseconds, proc, clientData</I>)
<P>
<B>Tcl_DeleteTimerHandler</B>(<I>token</I>)
<P>
<H2>ARGUMENTS</H2>

<P><DT><B>int <I>milliseconds</I></B> (in)
<DD>How many milliseconds to wait before invoking <I>proc</I>.
<P><DT><B>Tcl_TimerProc <I>*proc</I></B> (in)
<DD>Procedure to invoke after <I>milliseconds</I> have elapsed.
<P><DT><B>ClientData <I>clientData</I></B> (in)
<DD>Arbitrary one-word value to pass to <I>proc</I>.
<P><DT><B>Tcl_TimerToken <I>token</I></B> (in)
<DD>Token for previously-created timer handler (the return value
from some previous call to <B>Tcl_CreateTimerHandler</B>).
<HR>
<P>
<P>
<H2>DESCRIPTION</H2>

<P>
<B>Tcl_CreateTimerHandler</B> arranges for <I>proc</I> to be
invoked at a time <I>milliseconds</I> milliseconds in the
future.
The callback to <I>proc</I> will be made by <B>Tcl_DoOneEvent</B>,
so <B>Tcl_CreateTimerHandler</B> is only useful in programs that
dispatch events through <B>Tcl_DoOneEvent</B> or through Tcl commands
such as <B>vwait</B>.
The call to <I>proc</I> may not be made at the exact time given by
<I>milliseconds</I>:  it will be made at the next opportunity
after that time.  For example, if <B>Tcl_DoOneEvent</B> isn't
called until long after the time has elapsed, or if there
are other pending events to process before the call to
<I>proc</I>, then the call to <I>proc</I> will be delayed.
<P>
<I>Proc</I> should have arguments and return value that match
the type <B>Tcl_TimerProc</B>:
<PRE>
typedef void Tcl_TimerProc(ClientData <I>clientData</I>);
</PRE>
The <I>clientData</I> parameter to <I>proc</I> is a copy of the <I>clientData</I> argument given to <B>Tcl_CreateTimerHandler</B> when the callback was created.  Typically, <I>clientData</I> points to a data structure containing application-specific information about what to do in <I>proc</I>. <P>
<B>Tcl_DeleteTimerHandler</B> may be called to delete a previously-created timer handler.  It deletes the handler indicated by <I>token</I> so that no call to <I>proc</I> will be made;  if that handler no longer exists (e.g. because the time period has already elapsed and <I>proc</I> has been invoked then <B>Tcl_DeleteTimerHandler</B> does nothing. The tokens returned by <B>Tcl_CreateTimerHandler</B> never have a value of NULL, so if NULL is passed to <B>Tcl_DeleteTimerHandler</B> then the procedure does nothing. <P>
<P>
<H2>KEYWORDS</H2>
 callback, clock, handler, timer 
</BODY>
</HTML>
