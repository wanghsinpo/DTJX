<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
<HTML><HEAD>
<A NAME="Tcl_BackgroundError_Tcl_7_5"></A>
<TITLE>Tcl_BackgroundError Tcl Library Procedures 7.5</TITLE></HEAD>
<BODY>
<HR>
<P>
<H2>NAME</H2>
 Tcl_BackgroundError - report Tcl error that occurred in background processing <P>
<H2>SYNOPSIS</H2>
 
<B>#include &lt;tcl.h&gt;</B>
<P>
<B>Tcl_BackgroundError</B>(<I>interp</I>)
<P>
<H2>ARGUMENTS</H2>

<P><DT><B>Tcl_Interp <I>*interp</I></B> (in)
<DD>Interpreter in which the error occurred.
<HR>
<P>
<P>
<H2>DESCRIPTION</H2>

<P>
This procedure is typically invoked when a Tcl error occurs during
``background processing'' such as executing an event handler.
When such an error occurs, the error condition is reported to Tcl
or to a widget or some other C code, and there is not usually any
obvious way for that code to report the error to the user.
In these cases the code calls <B>Tcl_BackgroundError</B> with an
<I>interp</I> argument identifying the interpreter in which the
error occurred.  At the time <B>Tcl_BackgroundError</B> is invoked,
the interpreter's result is expected to contain an error message.
<B>Tcl_BackgroundError</B> will invoke the <B>bgerror</B>
Tcl command to report the error in an application-specific fashion.
If no <B>bgerror</B> command exists, or if it returns with an error condition,
then <B>Tcl_BackgroundError</B> reports the error itself by printing
a message on the standard error file.
<P>
<B>Tcl_BackgroundError</B> does not invoke <B>bgerror</B> immediately
because this could potentially interfere with scripts that are in process
at the time the error occurred.
Instead, it invokes <B>bgerror</B> later as an idle callback.
<B>Tcl_BackgroundError</B> saves the values of the <B>errorInfo</B> and
<B>errorCode</B> variables and restores these values just before
invoking <B>bgerror</B>.
<P>
It is possible for many background errors to accumulate before
<B>bgerror</B> is invoked.  When this happens, each of the errors
is processed in order.  However, if <B>bgerror</B> returns a
break exception, then all remaining error reports for the
interpreter are skipped.
<P>
<P>
<H2>KEYWORDS</H2>

background, bgerror, error

</BODY>
</HTML>
