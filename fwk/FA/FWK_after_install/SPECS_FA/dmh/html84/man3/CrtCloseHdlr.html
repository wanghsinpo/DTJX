<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
<HTML><HEAD>
<A NAME="Tcl_CreateCloseHandler_Tcl_7_5"></A>
<TITLE>Tcl_CreateCloseHandler Tcl Library Procedures 7.5</TITLE></HEAD>
<BODY>
<HR>
<P>
<H2>NAME</H2>
 Tcl_CreateCloseHandler, Tcl_DeleteCloseHandler - arrange for callbacks when channels are closed <P>
<H2>SYNOPSIS</H2>
 
<B>#include &lt;tcl.h&gt;</B>
<P>
void
<B>Tcl_CreateCloseHandler</B>(<I>channel, proc, clientData</I>)
<P>
void
<B>Tcl_DeleteCloseHandler</B>(<I>channel, proc, clientData</I>)
<P>
<P>
<H2>ARGUMENTS</H2>

<P><DT><B>Tcl_Channel <I>channel</I></B> (in)
<DD>The channel for which to create or delete a close callback.
<P><DT><B>Tcl_CloseProc <I>*proc</I></B> (in)
<DD>The procedure to call as the callback.
<P><DT><B>ClientData <I>clientData</I></B> (in)
<DD>Arbitrary one-word value to pass to <I>proc</I>.
<HR>
<P>
<P>
<H2>DESCRIPTION</H2>

<P>
<B>Tcl_CreateCloseHandler</B> arranges for <I>proc</I> to be called when
<I>channel</I> is closed with <B>Tcl_Close</B> or
<B>Tcl_UnregisterChannel</B>, or using the Tcl <B>close</B> command.
<I>Proc</I> should match the following prototype:
<P>
<PRE>
typedef void Tcl_CloseProc(
	ClientData <I>clientData</I>);
</PRE>
<P>
The <I>clientData</I> is the same as the value provided in the call to <B>Tcl_CreateCloseHandler</B>. <P>
<B>Tcl_DeleteCloseHandler</B> removes a close callback for <I>channel</I>. The <I>proc</I> and <I>clientData</I> identify which close callback to remove; <B>Tcl_DeleteCloseHandler</B> does nothing if its <I>proc</I> and <I>clientData</I> arguments do not match the <I>proc</I> and <I>clientData</I> for a  close handler for <I>channel</I>. <P>
<P>
<H2>SEE ALSO</H2>
 <a href="../mann/close.html">close</a>, Tcl_Close(3), Tcl_UnregisterChannel(3) <P>
<P>
<H2>KEYWORDS</H2>
 callback, channel closing 
</BODY>
</HTML>
