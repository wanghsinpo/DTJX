<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
<HTML><HEAD>
<A NAME="regsub_Tcl_8_3"></A>
<TITLE>regsub Tcl Built-In Commands 8.3</TITLE></HEAD>
<BODY>
<HR>
<P>
<H2>NAME</H2>
 regsub - Perform substitutions based on regular expression pattern matching <P>
<H2>SYNOPSIS</H2>
 <B>regsub </B>?<I>switches</I>? <I>exp string subSpec </I>?<I>varName</I>? <HR>
<P>
<P>
<H2>DESCRIPTION</H2>
 <P>
This command matches the regular expression <I>exp</I> against <I>string</I>, and either copies <I>string</I> to the variable whose name is given by <I>varName</I> or returns <I>string</I> if <I>varName</I> is not present. (Regular expression matching is described in the <B>re_syntax</B> reference page.) If there is a match, then while copying <I>string</I> to <I>varName</I> (or to the result of this command if <I>varName</I> is not present) the portion of <I>string</I> that matched <I>exp</I> is replaced with <I>subSpec</I>. If <I>subSpec</I> contains a ``&amp;'' or ``\0'', then it is replaced in the substitution with the portion of <I>string</I> that matched <I>exp</I>. If <I>subSpec</I> contains a ``\<I>n</I>'', where <I>n</I> is a digit between 1 and 9, then it is replaced in the substitution with the portion of <I>string</I> that matched the <I>n</I>-th parenthesized subexpression of <I>exp</I>. Additional backslashes may be used in <I>subSpec</I> to prevent special interpretation of ``&amp;'' or ``\0'' or ``\<I>n</I>'' or backslash. The use of backslashes in <I>subSpec</I> tends to interact badly with the Tcl parser's use of backslashes, so it's generally safest to enclose <I>subSpec</I> in braces if it includes backslashes. <P>
If the initial arguments to <B>regsub</B> start with <B>-</B> then they are treated as switches.  The following switches are currently supported: 
<DT><B>-all</B>
<DD>All ranges in <I>string</I> that match <I>exp</I> are found and substitution is performed for each of these ranges. Without this switch only the first matching range is found and substituted. If <B>-all</B> is specified, then ``&amp;'' and ``\<I>n</I>'' sequences are handled for each substitution using the information from the corresponding match. 
<DT><B>-expanded</B>
<DD>Enables use of the expanded regular expression syntax where whitespace and comments are ignored.  This is the same as specifying the <B>(?x)</B> embedded option (see the <B>re_syntax</B> manual page). 
<DT><B>-line</B>
<DD>Enables newline-sensitive matching.  By default, newline is a completely ordinary character with no special meaning.  With this flag, `[^' bracket expressions and `.' never match newline, `^' matches an empty string after any newline in addition to its normal function, and `$' matches an empty string before any newline in addition to its normal function.  This flag is equivalent to specifying both <B>-linestop</B> and <B>-lineanchor</B>, or the <B>(?n)</B> embedded option (see the <B>re_syntax</B> manual page). 
<DT><B>-linestop</B>
<DD>Changes the behavior of `[^' bracket expressions and `.' so that they stop at newlines.  This is the same as specifying the <B>(?p)</B> embedded option (see the <B>re_syntax</B> manual page). 
<DT><B>-lineanchor</B>
<DD>Changes the behavior of `^' and `$' (the ``anchors'') so they match the beginning and end of a line respectively.  This is the same as specifying the <B>(?w)</B> embedded option (see the <B>re_syntax</B> manual page). 
<DT><B>-nocase</B>
<DD>Upper-case characters in <I>string</I> will be converted to lower-case before matching against <I>exp</I>;  however, substitutions specified by <I>subSpec</I> use the original unconverted form of <I>string</I>. 
<DT><B>-start</B> <I>index</I>
<DD>Specifies a character index offset into the string to start matching the regular expression at.  When using this switch, `^' will not match the beginning of the line, and \A will still match the start of the string at <I>index</I>. <I>index</I> will be constrained to the bounds of the input string. 
<DT><B>--</B>
<DD>Marks the end of switches.  The argument following this one will be treated as <I>exp</I> even if it starts with a <B>-</B>. <P>
If <I>varName</I> is supplied, the command returns a count of the number of matching ranges that were found and replaced, otherwise the string after replacement is returned. See the manual entry for <B>regexp</B> for details on the interpretation of regular expressions. <P>
<P>
<H2>SEE ALSO</H2>
 <a href="../mann/regexp.html">regexp</a>, <a href="../mann/re_syntax.html">re_syntax</a> <P>
<P>
<H2>KEYWORDS</H2>
 match, pattern, regular expression, substitute 
</BODY>
</HTML>
