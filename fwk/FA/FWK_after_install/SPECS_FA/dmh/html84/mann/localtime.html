<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
<HTML><HEAD>
<A NAME="localtime_cmds_"></A>
<TITLE>localtime Tcl Command</TITLE></HEAD>
<BODY>
<HR>
<P>
<H2>NAME</H2>
 localtime - Obtain the current time and/or date <P>
<H2>SYNOPSIS</H2>
 <B>dmh::localtime  </B>?<I>format</I>? <HR>
<P>
<P>
<H2>DESCRIPTION</H2>
 <P>
This command is used to obtain the current system time.   Unless UTC (Universal Coordinated Time) is indicated, the result is for  the local timezone.  UTC time was formerly known as GMT (Greenwich Mean Time).  The environmental variable <B>TZ</B> should be set to  establish or override the local timezone, and the use of Daylight Saving Time.  This variable is usually configured by the system administrator when the operating system is installed. <P>
The value of the  argument <B><I>format</B></I> controls the output format of the result.  If no <I>format</I> code is given or if the code is out of range, the default format is used. The following format codes are supported.  These format choices are also available for the <B>mktime</B> command.   
<DT><B><I>default</B></I>
<DD><I>YYYY MM DD HH MM SS DayOfWeek DayOfYear</I> With this format, single digit numbers are padded with a space so that the first 6 fields are always at the same offsets in the string.  <I>DayOfWeek</I> ranges 0 to 6 with 0 being Sunday.   <I>DayofYear</I> ranges from 0 to 365 with 0 being January 1. In general, single digit numbers are padded with leading zeroes on all of the other formats.  The leading 0's may need to be removed if the text is used in integer expressions since the usual Tcl  input routines use leading zeroes to indicate octal values.  
<DT><B>0</B>
<DD>The C language asctime() result string for the local time;  for example <B>Sun May 28 19:03:43 1995</B>.  This result format does not depend on the current locale (configured Country and language).  
<DT><B>1</B>
<DD>Same as the above except but the value is for UTC. 
<DT><B>2</B>
<DD>The POSIX count of seconds since 1970 eg., <B>801705320</B> 
<DT><B>3</B>
<DD><I>HHMMSS</I> 
<DT><B>4</B>
<DD><I>HH:MM:SS</I> 
<DT><B>5</B>
<DD><I>YYYYMMDD</I> 
<DT><B>6</B>
<DD><I>YYYY MM DD</I> 
<DT><B>7</B>
<DD><I>MM DD YY</I> 
<DT><B>8</B>
<DD><I>DD-Mon-YYYY HH:MM:SS</I> 
<DT><B>9</B>
<DD><I>YYYY-MM-DD HH:MM:SS</I> in the local timezone.  Formats 9, 10, 15 and 16 are especially useful  for sorting when ordinary string comparison is used. 
<DT><B>10</B>
<DD><I>YYYY-MM-DD HH:MM:SS</I> for UTC
<DT><B>11</B>
<DD><I>UTC_seconds microseconds</I>  
This format is available if your system supports the gettimeofday() C function.  
The localtime command guarantees that a unique, monotonically increasing result is returned 
everytime format 11, format 15, or format 16 is obtained, but this result usually does not have the
full millisecond accuracy.  For example, on Win32 platforms, the microseconds argument is only 
accurate to the nearest millisecond.  The mktime command can be used to convert this
format into any of the other formats.
<DT><B>12</B>
<DD><I>date and time</I> formatted for the current locale using the strftime() function, format "%c". 
<DT><B>13</B>
<DD><I>date</I> formatted for the current locale using the  strftime() function, format "%x". 
<DT><B>14</B>
<DD><I>time</I> formatted for the current locale using the strftime() function, format "%X". 
<DT><B>15</B>
<DD><I>YYYY-MM-DD HH:MM:SS.uuuuuu</I> in the local timezone.  
If you use this value for a database key, you may have problems with Daylight Saving Time
in the fall, when the clock is shifted back an hour.
As with format 11, this format is available only on platforms that support gettimeofday().
<DT><B>16</B>
<DD><I>YYYY-MM-DD HH:MM:SS.uuuuuu</I> for UTC.  This value is free of problems
with Daylight Saving Time changes.  
As with format 11, this format is available only on platforms that support gettimeofday().
<P>
<H2>AUTHOR</H2>
 Ed Hume, Hume Integration Software<P>
<H2>SEE ALSO</H2>
 <A href="mktime.html">mktime</A>&nbsp;&nbsp;
 <A href="dmh_ntp.html">dmh_ntp_install</A> 
<H2>KEYWORDS</H2>
 time, calender, date, mktime 
</BODY>
</HTML>
