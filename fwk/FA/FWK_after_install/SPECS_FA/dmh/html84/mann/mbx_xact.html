<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
<HTML><HEAD>
<TITLE>mbx_xact Tcl Command</TITLE></HEAD>
<BODY>
<HR>
<P>
<H2>NAME</H2>
 mbx_xact - Synchronous Send and Reply DMH Message Interaction <P>
<H2>SYNOPSIS</H2>
 <B>package require Humelib</B><BR>
 <B>humelib::mbx_xact <I>boxname message</I> {<I>timeout</I> 20000} {<I>replybox</I> {}}</B>
<HR>
<P>
<H2>DESCRIPTION</H2>
<P>
This procedure is used to send a DMH message to a mailbox, and to receive
a reply message or the literal reply string, <B>TIMEOUT</B>.&nbsp;
The procedure is an improved version of <a href="mbx_cmds.html">mbx_do_xact</a>
and is closer to the DoXact() calls provided by DMH client libraries
for other programming languages.&nbsp;
<P>
If the optional <I>replybox</I> argument is not provided,
the procedure manages creating a unique reply mailbox for the reply message,
and closes the mailbox after use.&nbsp;  The timeout interval for receiving a reply
message may be specified in milliseconds; the default value is 20000 (20 seconds).&nbsp;
<P>
The logic of the command uses <a href="vwait.html">vwait</a> to dispatch
events while waiting for a reply.&nbsp; Users of the command should be aware
that when modal event-dispatching calls such as this one become nested,
the application logic completes and unwinds the execution stack in the
order of most recent to earliest.&nbsp; It is bad programming practice to
allow the execution stack to nest too deep --- serialization of access and
asynchronous functions can be used to control nesting.&nbsp;  
<P>
The command is part of the <B>Humelib</B> package and it exists
in the <B>humelib</b> namespace.
<H2>EXAMPLE</H2>
<PRE>
package require Humelib

set reply [humelib::mbx_xact DATAHUB "ping"]
</PRE>


<H2>AUTHOR</H2>
 Hume Integration Software, www.hume.com  <P>
<H2>SEE ALSO</H2>
 <a href="../mann/mbx.html">mbx</A>&nbsp;&nbsp;&nbsp;
 <a href="../mann/mbx_cmds.html">mbx_do_xact</A>&nbsp;&nbsp;&nbsp;
 <a href="../mann/mbx_when_reply.html">mbx_when_reply</A><P>
<H2>KEYWORDS</H2>
 mbx, DMH, IPC, interprocess communication, messaging
</BODY>
</HTML>
