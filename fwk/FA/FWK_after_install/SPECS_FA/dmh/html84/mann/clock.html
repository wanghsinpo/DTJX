<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
<HTML><HEAD>
<A NAME="clock_Tcl_8_4"></A>
<TITLE>clock Tcl Built-In Commands 8.4</TITLE></HEAD>
<BODY>
<HR>
<P>
<H2>NAME</H2>
 clock - Obtain and manipulate time <P>
<H2>SYNOPSIS</H2>
 <B>clock <I>option</B></I> ?<I>arg arg ...</I>? <HR>
<P>
<P>
<H2>DESCRIPTION</H2>
 <P>
This command performs one of several operations that may obtain or manipulate strings or values that represent some notion of time.  The <I>option</I> argument determines what action is carried out by the command.  The legal <I>options</I> (which may be abbreviated) are: 
<DT><B>clock clicks</B> ?<B>-milliseconds</B>?
<DD>Return a high-resolution time value as a system-dependent integer value.  The unit of the value is system-dependent but should be the highest resolution clock available on the system such as a CPU cycle counter. If <B>-milliseconds</B> is specified, then the value is guaranteed to be of millisecond granularity. This value should only be used for the relative measurement of elapsed time. 
<DT><B>clock format <I>clockValue</B></I> ?<B>-format <I>string</B></I>? ?<B>-gmt <I>boolean</B></I>?
<DD>Converts an integer time value, typically returned by <B>clock seconds</B>, <B>clock scan</B>, or the <B>atime</B>, <B>mtime</B>, or <B>ctime</B> options of the <B>file</B> command, to human-readable form.  If the <B>-format</B> argument is present the next argument is a string that describes how the date and time are to be formatted. Field descriptors consist of a <B>%</B> followed by a field descriptor character.  All other characters are copied into the result. Valid field descriptors are: <DL>

<DT><B>%%</B>
<DD>Insert a %. 
<DT><B>%a</B>
<DD>Abbreviated weekday name (Mon, Tue, etc.). 
<DT><B>%A</B>
<DD>Full weekday name (Monday, Tuesday, etc.). 
<DT><B>%b</B>
<DD>Abbreviated month name (Jan, Feb, etc.). 
<DT><B>%B</B>
<DD>Full month name. 
<DT><B>%c</B>
<DD>Locale specific date and time.  The format for date and time in the default "C" locale on Unix/Mac is "%a %b %d %H:%M:%S %Y". On Windows, this value is the locale specific long date and time, as specified in the Regional Options control panel settings. 
<DT><B>%C</B>
<DD>First two digits of the four-digit year (19 or 20). 
<DT><B>%d</B>
<DD>Day of month (01 - 31). 
<DT><B>%D</B>
<DD>Date as %m/%d/%y. 
<DT><B>%e</B>
<DD>Day of month (1 - 31), no leading zeros. 
<DT><B>%h</B>
<DD>Abbreviated month name. 
<DT><B>%H</B>
<DD>Hour in 24-hour format (00 - 23). 
<DT><B>%I</B>
<DD>Hour in 12-hour format (01 - 12). 
<DT><B>%j</B>
<DD>Day of year (001 - 366). 
<DT><B>%k</B>
<DD>Hour in 24-hour format, without leading zeros (0 - 23). 
<DT><B>%l</B>
<DD>Hour in 12-hour format, without leading zeros (1 - 12). 
<DT><B>%m</B>
<DD>Month number (01 - 12). 
<DT><B>%M</B>
<DD>Minute (00 - 59). 
<DT><B>%n</B>
<DD>Insert a newline. 
<DT><B>%p</B>
<DD>AM/PM indicator. 
<DT><B>%r</B>
<DD>Time in a locale-specific "meridian" format.  The "meridian" format in the default "C" locale is "%I:%M:%S %p". 
<DT><B>%R</B>
<DD>Time as %H:%M. 
<DT><B>%s</B>
<DD>Count of seconds since the epoch, expressed as a decimal integer. 
<DT><B>%S</B>
<DD>Seconds (00 - 59). 
<DT><B>%t</B>
<DD>Insert a tab. 
<DT><B>%T</B>
<DD>Time as %H:%M:%S. 
<DT><B>%u</B>
<DD>Weekday number (Monday = 1, Sunday = 7). 
<DT><B>%U</B>
<DD>Week of year (00 - 52), Sunday is the first day of the week. 
<DT><B>%V</B>
<DD>Week of year according to ISO-8601 rules.  Week 1 of a given year is the week containing 4 January. 
<DT><B>%w</B>
<DD>Weekday number (Sunday = 0, Saturday = 6). 
<DT><B>%W</B>
<DD>Week of year (00 - 52), Monday is the first day of the week. 
<DT><B>%x</B>
<DD>Locale specific date format.  The format for a date in the default "C" locale for Unix/Mac is "%m/%d/%y". On Windows, this value is the locale specific short date format, as specified in the Regional Options control panel settings. 
<DT><B>%X</B>
<DD>Locale specific 24-hour time format.  The format for a  24-hour time in the default "C" locale for Unix/Mac is "%H:%M:%S". On Windows, this value is the locale specific time format, as specified in the Regional Options control panel settings. 
<DT><B>%y</B>
<DD>Year without century (00 - 99). 
<DT><B>%Y</B>
<DD>Year with century (e.g. 1990) 
<DT><B>%Z</B>
<DD>Time zone name. </DL>
<P>
<DL>
If the <B>-format</B> argument is not specified, the format string  <B>"%a %b %d %H:%M:%S %Z %Y"</B> is used.  If the <B>-gmt</B> argument is present the next argument must be a boolean which if true specifies that the time will be formatted as Greenwich Mean Time. If false then the local timezone will be used as defined by the operating environment. </DL>

<DT><B>clock scan <I>dateString</B></I> ?<B>-base <I>clockVal</B></I>? ?<B>-gmt <I>boolean</B></I>?
<DD>Convert <I>dateString</I> to an integer clock value (see <B>clock seconds</B>). This command can parse and convert virtually any standard date and/or time string, which can include standard time zone mnemonics.  If only a time is specified, the current date is assumed.  If the string does not contain a time zone mnemonic, the local time zone is assumed, unless the <B>-gmt</B>  argument is true, in which case the clock value is calculated assuming that the specified time is relative to Greenwich Mean Time. <B>-gmt</B>, if specified, affects only the computed time value; it does not impact the interpretation of <B>-base</B>. <P>
If the <B>-base</B> flag is specified, the next argument should contain an integer clock value.  Only the date in this value is used, not the time.  This is useful for determining the time on a specific day or doing other date-relative conversions. <P>
The <I>dateString</I> consists of zero or more specifications of the following form: <DL>

<DT><I>time</I>
<DD>A time of day, which is of the form: <I>hh</I>?<I>:mm</I>?<I>:ss</I>??  ?<I>meridian</I>? ?<I>zone</I>? or <I>hhmm </I>?<I>meridian</I>?  ?<I>zone</I>?. If no meridian is specified, <I>hh</I> is interpreted on a 24-hour clock. 
<DT><I>date</I>
<DD>A specific month and day with optional year.  The acceptable formats are <I>mm/dd</I>?<I>/yy</I>?, <I>monthname dd</I> ?, <I>yy</I>?, <I>dd monthname </I>?<I>yy</I>?, <I>day, dd monthname yy</I>, <I>?CC?yymmdd</I>, <I>?CC?yy-mm-dd</I>, <I>dd-monthname-?CC?yy</I>. The default year is the current year.  If the year is less than 100, we treat the years 00-68 as 2000-2068 and the years 69-99 as 1969-1999.  Not all platforms can represent the years 38-70, so an error may result if these years are used. 
<DT><I>ISO 8601 point-in-time</I>
<DD>An ISO 8601 point-in-time specification, such as <I>CCyymmddThhmmss</I>, where T is the literal T, <I>CCyymmdd hhmmss</I>, or  <I>CCyymmddThh:mm:ss</I>. 
<DT><I>relative time</I>
<DD>A specification relative to the current time.  The format is <I>number unit</I> acceptable units are <B>year</B>, <B>fortnight</B>, <B>month</B>, <B>week</B>, <B>day</B>, <B>hour</B>, <B>minute</B> (or <B>min</B>), and <B>second</B> (or <B>sec</B>).  The unit can be specified as a singular or plural, as in <B>3 weeks</B>. These modifiers may also be specified: <B>tomorrow</B>, <B>yesterday</B>, <B>today</B>, <B>now</B>, <B>last</B>, <B>this</B>, <B>next</B>, <B>ago</B>. </DL>
<P>
<DL>
The actual date is calculated according to the following steps. First, any absolute date and/or time is processed and converted. Using that time as the base, day-of-week specifications are added. Next, relative specifications are used.  If a date or day is specified, and no absolute or relative time is given, midnight is used.  Finally, a correction is applied so that the correct hour of the day is produced after allowing for daylight savings time differences and the correct date is given when going from the end of a long month to a short month. <P>
Daylight Saving Time correction is applied only when the relative time is specified in units of days or more, ie, days, weeks, fortnights, months or years.  This means that when crossing the daylight savings time boundary, different results will be given for <B>clock scan "1 day"</B> and <B>clock scan "24 hours"</B>: <PRE>
<B>% clock scan "1 day" -base [clock scan 1999-10-31]
941443200
% clock scan "24 hours" -base [clock scan 1999-10-31]
941439600</B>
</PRE>
</DL>

<DT><B>clock seconds</B>
<DD>Return the current date and time as a system-dependent integer value.  The unit of the value is seconds, allowing it to be used for relative time calculations.  The value is usually defined as total elapsed time from an ``epoch''.  You shouldn't assume the value of the epoch. <P>
<P>
<H2>SEE ALSO</H2>
 date(1), <a href="../mann/time.html">time</a> <P>
<P>
<H2>KEYWORDS</H2>
 clock, date, time 
</BODY>
</HTML>
