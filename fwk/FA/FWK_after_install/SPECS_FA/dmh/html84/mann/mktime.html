<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
<HTML><HEAD>
<A NAME="mktime_cmds_"></A>
<TITLE>mktime Tcl Command</TITLE></HEAD>
<BODY>
<HR>
<P>
<H2>NAME</H2>
 mktime -  Time and date manipulation <P>
<H2>SYNOPSIS</H2>
 <B>dmh::mktime  <I>time_vector</B></I>  [<I>delta_vector</I>]*  [<I>format</I>] <P>
 <B>dmh::mktime  <I>UTC_seconds</B></I>  [<I>delta_vector</I>]*  [<I>format</I>] <P>
 <B>dmh::mktime  <I>UTC_secs_usecs</B></I>  [<I>delta_vector</I>]*  [<I>format</I>] <P>
 <B>dmh::mktime  <I>localtime_16</B></I>  [<I>delta_vector</I>]*  [<I>format</I>] <P>
<HR>
<P>
<H2>DESCRIPTION</H2>
 <P>
This command is used to convert dates from one format to another, as well as to add 
or subtract intervals from dates.  There are four variations shown above depending on 
whether the time of interest is expressed as the POSIX count of seconds 
(localtime format 2),  a POSIX count of seconds and microseconds (localtime format 11),
a vector of values expressed for the local timezone (localtime default format),
or a high resolution UTC timestamp "YYYY-MM-DD hh:mm:ss.uuuuuu" (localtime format 16).
<P> 
A <B><I>time_vector</B></I> is a list of at least 6 integers ordered as  
<I>Year Month Day Hour Minute Second</I>.  
The values of the time vector are always understood to be for the localtime zone. 
If there are more than 6 list elements, the extras are ignored.  
The values should not have leading zeroes unless octal notation is intended. 
<P>
The <B><I>UTC_secs_usecs</B></I> base time format accepts positive or
negative microsecond values that are outside of the usual 0 to 999999 range.  
This feature is useful if you want to add or subtract some quantity of microseconds from
a high resolution time value.  
<p>
Optional <B><I>delta_vector</B></I> arguments are 6 element lists of integers  
whose values are added to the specified base time 
to compute a new time value.  
<P>
The optional <B><I>format</B></I> code indicates 
the desired output format of the result.  
See the <a href="../mann/localtime.html">localtime</a> command for format descriptions.   
<PRE>
% set four_days_ago [mktime [localtime] "0 0 -4 0 0 0" 9]
2000-03-02 21:09:24
% set ts_gmt  [mktime {952398574 889000} 16]
2000-03-07 03:09:34.889000
% mktime {2000-03-07 03:09:34.889000} 11
952398574 889000
% mktime {952398574 -2000} 15
2000-03-06 21:09:33.998000
</PRE>
<P>
The addition or subtraction of months or years lacks the precision of adding or 
subtracting only days, hours, minutes, and seconds since these intervals are not fixed.  
Also, you may wish to consider the behavior of your calculation if and when it 
encompasses a Daylight Saving Time change. <P>
To determine the length of an interval between two dates, convert both dates to 
UTC seconds and subtract. <P>
The range of validity is system dependent but typically only encompasses 1970 through 2036. <P>
If the time cannot be successfully converted, an error is returned. <P>
<H2>AUTHOR</H2>
 Ed Hume, Hume Integration Software <P>
<H2>SEE ALSO</H2>
 <a href="localtime.html">localtime</a> <a href="dmh_ntp.html">dmh_ntp_install</a> <P>
<H2>BUGS</H2>
 Faulty results have been seen on SunOS 4.1.3, especially when larger values in the delta vector(s) are used. <P>
<H2>KEYWORDS</H2>
 time, calender, date, localtime 
</BODY>
</HTML>
