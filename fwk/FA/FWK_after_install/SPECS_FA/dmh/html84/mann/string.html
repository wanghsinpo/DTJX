<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
<HTML><HEAD>
<A NAME="string_Tcl_8_1"></A>
<TITLE>string Tcl Built-In Commands 8.1</TITLE></HEAD>
<BODY>
<HR>
<P>
<H2>NAME</H2>
 string - Manipulate strings <P>
<H2>SYNOPSIS</H2>
 <B>string <I>option arg </B></I>?<I>arg ...?</I> <HR>
<P>
<P>
<H2>DESCRIPTION</H2>
 <P>
Performs one of several string operations, depending on <I>option</I>. The legal <I>option</I>s (which may be abbreviated) are: 
<DT><B>string bytelength <I>string</B></I>
<DD>Returns a decimal string giving the number of bytes used to represent <I>string</I> in memory.  Because UTF-8 uses one to three bytes to represent Unicode characters, the byte length will not be the same as the character length in general.  The cases where a script cares about the byte length are rare.  In almost all cases, you should use the <B>string length</B> operation (including determining the length of a Tcl ByteArray object).  Refer to the <B>Tcl_NumUtfChars</B> manual entry for more details on the UTF-8 representation. 
<DT><B>string compare</B> ?<B>-nocase</B>? ?<B>-length int</B>? <I>string1 string2</I>
<DD>Perform a character-by-character comparison of strings <I>string1</I> and <I>string2</I>.  Returns -1, 0, or 1, depending on whether <I>string1</I> is lexicographically less than, equal to, or greater than <I>string2</I>.  If <B>-length</B> is specified, then only the first <I>length</I> characters are used in the comparison.  If <B>-length</B> is negative, it is ignored.  If <B>-nocase</B> is specified, then the strings are compared in a case-insensitive manner. 
<DT><B>string equal</B> ?<B>-nocase</B>? ?<B>-length int</B>? <I>string1 string2</I>
<DD>Perform a character-by-character comparison of strings <I>string1</I> and <I>string2</I>.  Returns 1 if <I>string1</I> and <I>string2</I> are identical, or 0 when not.  If <B>-length</B> is specified, then only the first <I>length</I> characters are used in the comparison.  If <B>-length</B> is negative, it is ignored.  If <B>-nocase</B> is specified, then the strings are compared in a case-insensitive manner. 
<DT><B>string first <I>string1 string2</B></I> ?<I>startIndex</I>?
<DD>Search <I>string2</I> for a sequence of characters that exactly match the characters in <I>string1</I>.  If found, return the index of the first character in the first such match within <I>string2</I>.  If not found, return -1.  If <I>startIndex</I> is specified (in any of the forms accepted by the <B>index</B> method), then the search is constrained to start with the character in <I>string2</I> specified by the index.  For example, <DL>
<PRE>
<B>string first a 0a23456789abcdef 5</B>
</PRE>
will return <B>10</B>, but <PRE>
<B>string first a 0123456789abcdef 11</B>
</PRE>
will return <B>-1</B>. </DL>

<DT><B>string index <I>string charIndex</B></I>
<DD>Returns the <I>charIndex</I>'th character of the <I>string</I> argument. A <I>charIndex</I> of 0 corresponds to the first character of the string.  <I>charIndex</I> may be specified as follows: <DL>

<DT><I>integer</I>
<DD>The char specified at this integral index. 
<DT><B>end</B>
<DD>The last char of the string. 
<DT><B>end-<I>integer</B></I>
<DD>The last char of the string minus the specified integer offset (e.g. <B>end-1</B> would refer to the "c" in "abcd"). <P>
If <I>charIndex</I> is less than 0 or greater than or equal to the length of the string then an empty string is returned. </DL>

<DT><B>string is <I>class</B></I> ?<B>-strict</B>? ?<B>-failindex <I>varname</B></I>? <I>string</I>
<DD>Returns 1 if <I>string</I> is a valid member of the specified character class, otherwise returns 0.  If <B>-strict</B> is specified, then an empty string returns 0, otherwise and empty string will return 1 on any class.  If <B>-failindex</B> is specified, then if the function returns 0, the index in the string where the class was no longer valid will be stored in the variable named <I>varname</I>.  The <I>varname</I> will not be set if the function returns 1.  The following character classes are recognized (the class name can be abbreviated): <DL>

<DT><B>alnum</B>
<DD>Any Unicode alphabet or digit character. 
<DT><B>alpha</B>
<DD>Any Unicode alphabet character. 
<DT><B>ascii</B>
<DD>Any character with a value less than \u0080 (those that are in the 7-bit ascii range). 
<DT><B>boolean</B>
<DD>Any of the forms allowed to <B>Tcl_GetBoolean</B>. 
<DT><B>control</B>
<DD>Any Unicode control character. 
<DT><B>digit</B>
<DD>Any Unicode digit character.  Note that this includes characters outside of the [0-9] range. 
<DT><B>double</B>
<DD>Any of the valid forms for a double in Tcl, with optional surrounding whitespace.  In case of under/overflow in the value, 0 is returned and the <I>varname</I> will contain -1. 
<DT><B>false</B>
<DD>Any of the forms allowed to <B>Tcl_GetBoolean</B> where the value is false. 
<DT><B>graph</B>
<DD>Any Unicode printing character, except space. 
<DT><B>integer</B>
<DD>Any of the valid forms for a 32-bit integer in Tcl, with optional surrounding whitespace.  In case of under/overflow in the value, 0 is returned and the <I>varname</I> will contain -1. 
<DT><B>lower</B>
<DD>Any Unicode lower case alphabet character. 
<DT><B>print</B>
<DD>Any Unicode printing character, including space. 
<DT><B>punct</B>
<DD>Any Unicode punctuation character. 
<DT><B>space</B>
<DD>Any Unicode space character. 
<DT><B>true</B>
<DD>Any of the forms allowed to <B>Tcl_GetBoolean</B> where the value is true. 
<DT><B>upper</B>
<DD>Any upper case alphabet character in the Unicode character set. 
<DT><B>wordchar</B>
<DD>Any Unicode word character.  That is any alphanumeric character, and any Unicode connector punctuation characters (e.g. underscore). 
<DT><B>xdigit</B>
<DD>Any hexadecimal digit character ([0-9A-Fa-f]). <P>
In the case of <B>boolean</B>, <B>true</B> and <B>false</B>, if the function will return 0, then the <I>varname</I> will always be set to 0, due to the varied nature of a valid boolean value. </DL>

<DT><B>string last <I>string1 string2</B></I> ?<I>lastIndex</I>?
<DD>Search <I>string2</I> for a sequence of characters that exactly match the characters in <I>string1</I>.  If found, return the index of the first character in the last such match within <I>string2</I>.  If there is no match, then return -1.  If <I>lastIndex</I> is specified (in any of the forms accepted by the <B>index</B> method), then only the characters in <I>string2</I> at or before the specified <I>lastIndex</I> will be considered by the search.  For example, <DL>
<PRE>
<B>string last a 0a23456789abcdef 15</B>
</PRE>
will return <B>10</B>, but <PRE>
<B>string last a 0a23456789abcdef 9</B>
</PRE>
will return <B>1</B>. </DL>

<DT><B>string length <I>string</B></I>
<DD>Returns a decimal string giving the number of characters in <I>string</I>.  Note that this is not necessarily the same as the number of bytes used to store the string.  If the object is a ByteArray object (such as those returned from reading a binary encoded channel), then this will return the actual byte length of the object. 
<DT><B>string map</B> ?<B>-nocase</B>? <I>charMap string</I>
<DD>Replaces characters in <I>string</I> based on the key-value pairs in <I>charMap</I>.  <I>charMap</I> is a list of <I>key value key value ...</I> as in the form returned by <B>array get</B>.  Each instance of a key in the string will be replaced with its corresponding value.  If <B>-nocase</B> is specified, then matching is done without regard to case differences. Both <I>key</I> and <I>value</I> may be multiple characters.  Replacement is done in an ordered manner, so the key appearing first in the list will be checked first, and so on. <I>string</I> is only iterated over once, so earlier key replacements will have no affect for later key matches.  For example, <DL>
<PRE>
<B>string map {abc 1 ab 2 a 3 1 0} 1abcaababcabababc</B>
</PRE>
will return the string <B>01321221</B>. </DL>

<DT><B>string match</B> ?<B>-nocase</B>? <I>pattern</I> <I>string</I>
<DD>See if <I>pattern</I> matches <I>string</I>; return 1 if it does, 0 if it doesn't.  If <B>-nocase</B> is specified, then the pattern attempts to match against the string in a case insensitive manner.  For the two strings to match, their contents must be identical except that the following special sequences may appear in <I>pattern</I>: <DL>

<DT><B>*</B>
<DD>Matches any sequence of characters in <I>string</I>, including a null string. 
<DT><B>?</B>
<DD>Matches any single character in <I>string</I>. 
<DT><B>[<I>chars]</B></I>
<DD>Matches any character in the set given by <I>chars</I>.  If a sequence of the form <I>x<B>-y</B></I> appears in <I>chars</I>, then any character between <I>x</I> and <I>y</I>, inclusive, will match.  When used with <B>-nocase</B>, the end points of the range are converted to lower case first.  Whereas {[A-z]} matches '_' when matching case-sensitively ('_' falls between the 'Z' and 'a'), with <B>-nocase</B> this is considered like {[A-Za-z]} (and probably what was meant in the first place). 
<DT><B>\<I>x</B></I>
<DD>Matches the single character <I>x</I>.  This provides a way of avoiding the special interpretation of the characters <B>*?[]\</B> in <I>pattern</I>. </DL>

<DT><B>string range <I>string first last</B></I>
<DD>Returns a range of consecutive characters from <I>string</I>, starting with the character whose index is <I>first</I> and ending with the character whose index is <I>last</I>. An index of 0 refers to the first character of the string.  <I>first</I> and <I>last</I> may be specified as for the <B>index</B> method.  If <I>first</I> is less than zero then it is treated as if it were zero, and if <I>last</I> is greater than or equal to the length of the string then it is treated as if it were <B>end</B>.  If <I>first</I> is greater than <I>last</I> then an empty string is returned. 
<DT><B>string repeat <I>string count</B></I>
<DD>Returns <I>string</I> repeated <I>count</I> number of times. 
<DT><B>string replace <I>string first last</B></I> ?<I>newstring</I>?
<DD>Removes a range of consecutive characters from <I>string</I>, starting with the character whose index is <I>first</I> and ending with the character whose index is <I>last</I>.  An index of 0 refers to the first character of the string.  <I>First</I> and <I>last</I> may be specified as for the <B>index</B> method.  If <I>newstring</I> is specified, then it is placed in the removed character range.  If <I>first</I> is less than zero then it is treated as if it were zero, and if <I>last</I> is greater than or equal to the length of the string then it is treated as if it were <B>end</B>.  If <I>first</I> is greater than <I>last</I> or the length of the initial string, or <I>last</I> is less than 0, then the initial string is returned untouched. 
<DT><B>string tolower <I>string</B></I> ?<I>first</I>? ?<I>last</I>?
<DD>Returns a value equal to <I>string</I> except that all upper (or title) case letters have been converted to lower case.  If <I>first</I> is specified, it refers to the first char index in the string to start modifying.  If <I>last</I> is specified, it refers to the char index in the string to stop at (inclusive).  <I>first</I> and <I>last</I> may be specified as for the <B>index</B> method. 
<DT><B>string totitle <I>string</B></I> ?<I>first</I>? ?<I>last</I>?
<DD>Returns a value equal to <I>string</I> except that the first character in <I>string</I> is converted to its Unicode title case variant (or upper case if there is no title case variant) and the rest of the string is converted to lower case.  If <I>first</I> is specified, it refers to the first char index in the string to start modifying.  If <I>last</I> is specified, it refers to the char index in the string to stop at (inclusive).  <I>first</I> and <I>last</I> may be specified as for the <B>index</B> method. 
<DT><B>string toupper <I>string</B></I> ?<I>first</I>? ?<I>last</I>?
<DD>Returns a value equal to <I>string</I> except that all lower (or title) case letters have been converted to upper case.  If <I>first</I> is specified, it refers to the first char index in the string to start modifying.  If <I>last</I> is specified, it refers to the char index in the string to stop at (inclusive).  <I>first</I> and <I>last</I> may be specified as for the <B>index</B> method. 
<DT><B>string trim <I>string</B></I> ?<I>chars</I>?
<DD>Returns a value equal to <I>string</I> except that any leading or trailing characters from the set given by <I>chars</I> are removed.  If <I>chars</I> is not specified then white space is removed (spaces, tabs, newlines, and carriage returns). 
<DT><B>string trimleft <I>string</B></I> ?<I>chars</I>?
<DD>Returns a value equal to <I>string</I> except that any leading characters from the set given by <I>chars</I> are removed.  If <I>chars</I> is not specified then white space is removed (spaces, tabs, newlines, and carriage returns). 
<DT><B>string trimright <I>string</B></I> ?<I>chars</I>?
<DD>Returns a value equal to <I>string</I> except that any trailing characters from the set given by <I>chars</I> are removed.  If <I>chars</I> is not specified then white space is removed (spaces, tabs, newlines, and carriage returns). 
<DT><B>string wordend <I>string charIndex</B></I>
<DD>Returns the index of the character just after the last one in the word containing character <I>charIndex</I> of <I>string</I>.  <I>charIndex</I> may be specified as for the <B>index</B> method.  A word is considered to be any contiguous range of alphanumeric (Unicode letters or decimal digits) or underscore (Unicode connector punctuation) characters, or any single character other than these. 
<DT><B>string wordstart <I>string charIndex</B></I>
<DD>Returns the index of the first character in the word containing character <I>charIndex</I> of <I>string</I>.  <I>charIndex</I> may be specified as for the <B>index</B> method.  A word is considered to be any contiguous range of alphanumeric (Unicode letters or decimal digits) or underscore (Unicode connector punctuation) characters, or any single character other than these. <P>
<P>
<H2>SEE ALSO</H2>
 <a href="../mann/expr.html">expr</a>, <a href="../mann/list.html">list</a> <P>
<P>
<H2>KEYWORDS</H2>
 case conversion, compare, index, match, pattern, string, word, equal, ctype 
</BODY>
</HTML>
