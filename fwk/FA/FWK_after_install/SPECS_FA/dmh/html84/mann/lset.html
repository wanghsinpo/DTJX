<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
<HTML><HEAD>
<A NAME="lset_Tcl_8_4"></A>
<TITLE>lset Tcl Built-In Commands 8.4</TITLE></HEAD>
<BODY>
<HR>
<P>
<H2>NAME</H2>
 lset - Change an element in a list <P>
<H2>SYNOPSIS</H2>
 <B>lset <I>varName ?index...? newValue</B></I> <HR>
<P>
<H2>DESCRIPTION</H2>
 <P>
The <B>lset</B> command is new with Tcl 8.4.  The <B>lset</B> command
that was part of the Hume DMH package has been renamed <a href="vset.html">vset</a>.
<P>
The <B>lset</B> command accepts a parameter, <I>varName</I>, which it interprets as the name of a variable containing a Tcl list.  It also accepts zero or more <I>indices</I> into the list.  The indices may be presented either consecutively on the command line, or grouped in a Tcl list and presented as a single argument. Finally, it accepts a new value for an element of <I>varName</I>. <P>
If no indices are presented, the command takes the form: <PRE>
lset varName newValue
</PRE>
or <PRE>
lset varName {} newValue
</PRE>
In this case, <I>newValue</I> replaces the old value of the variable <I>varName</I>. <P>
When presented with a single index, the <B>lset</B> command treats the content of the <I>varBane</I> variable as a Tcl list. It addresses the <I>index</I>'th element in it  (0 refers to the first element of the list). When interpreting the list, <B>lset</B> observes the same rules concerning braces and quotes and backslashes as the Tcl command interpreter; however, variable substitution and command substitution do not occur. The command constructs a new list in which the designated element is replaced with <I>newValue</I>.  This new list is stored in the variable <I>varName</I>, and is also the return value from the <B>lset</B> command. <P>
If <I>index</I> is negative or greater than or equal to the number of elements in <I>$varName</I>, then an error occurs. <P>
If <I>index</I> has the value <B>end</B>, it refers to the last element in the list, and <B>end-<I>integer</B></I> refers to the last element in the list minus the specified integer offset. <P>
If additional <I>index</I> arguments are supplied, then each argument is used in turn to address an element within a sublist designated by the previous indexing operation, allowing the script to alter elements in sublists.  The command, <PRE>
lset a 1 2 newValue
</PRE>
or <PRE>
lset a {1 2} newValue
</PRE>
replaces element 2 of sublist 1 with <I>newValue</I>. <P>
The integer appearing in each <I>index</I> argument must be greater than or equal to zero.  The integer appearing in each <I>index</I> argument must be strictly less than the length of the corresponding list.  In other words, the <B>lset</B> command cannot change the size of a list.  If an index is outside the permitted range, an error is reported. <P>
<H2>EXAMPLES</H2>
 In each of these examples, the initial value of <I>x</I> is: <PRE>
set x [list [list a b c] [list d e f] [list g h i]]
  =&gt; {a b c} {d e f} {g h i}
</PRE>
The indicated return value also becomes the new value of <I>x</I> (except in the last case, which is an error which leaves the value of <I>x</I> unchanged.) <PRE>
lset x {j k l} =&gt; j k l
lset x {} {j k l} =&gt; j k l
lset x 0 j =&gt; j {d e f} {g h i}
lset x 2 j =&gt; {a b c} {d e f} j
lset x end j =&gt; {a b c} {d e f} j
lset x end-1 j =&gt; {a b c} j {g h i}
lset x 2 1 j =&gt; {a b c} {d e f} {g j i}
lset x {2 1} j =&gt; {a b c} {d e f} {g j i}
lset x {2 3} j =&gt; <I>list index out of range</I>
</PRE>
In the following examples, the initial value of <I>x</I> is: <PRE>
set x [list [list [list a b] [list c d]] \
            [list [list e f] [list g h]]]
 =&gt; {{a b} {c d}} {{e f} {g h}}
</PRE>
The indicated return value also becomes the new value of <I>x</I>. <PRE>
lset x 1 1 0 j =&gt; {{a b} {c d}} {{e f} {j h}}
lset x {1 1 0} j =&gt; {{a b} {c d}} {{e f} {j h}}
</PRE>
<P>
<H2>SEE ALSO</H2>
 <a href="../mann/list.html">list</a>, <a href="../mann/lappend.html">lappend</a>, <a href="../mann/lindex.html">lindex</a>, <a href="../mann/linsert.html">linsert</a>, <a href="../mann/llength.html">llength</a>, <a href="../mann/lsearch.html">lsearch</a>,  <a href="../mann/lsort.html">lsort</a>, <a href="../mann/lrange.html">lrange</a>, <a href="../mann/lreplace.html">lreplace</a> <P>
<P>
<H2>KEYWORDS</H2>
 element, index, list, replace, set 
</BODY>
</HTML>
