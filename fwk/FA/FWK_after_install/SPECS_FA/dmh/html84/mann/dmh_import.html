<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
<HTML><HEAD>
<A NAME="dmh_import_cmds_"></A>
<TITLE>dmh_import Tcl Command</TITLE></HEAD>
<BODY>
<HR>
<P>
<H2>NAME</H2>
 dmh_import - import dmh package commands into the global namespace <P>
<H2>SYNOPSIS</H2>
 <B>dmh_import {<I>want_old_lset</I> 0}</B>  <HR>
<P>
<P>
<H2>DESCRIPTION</H2>
 <P>
If needed, import <b>dmh</b> package commands into the global namespace
so that applications work with the new or the older
Tcl versions.
<P>
With Tcl version, 8.4, the command <b>lset</b> became a core command of Tcl,
which conflicted with a dmh package command of the same name.&nbsp;
The name conflict with the dmh package was the motivation
to cleanup the dmh package by moving commands and variables into the
namespace <b>dmh</b>.  New applications can choose which package commands
to import into the global namespace, so future conflicts are 
avoidable.  
<p>
As detailed below, most existing applications will run without
change after calling <b>dmh_import</b>.  It is ok to call dmh_import
when using Tcl 8.3, and this is the supported and proper way to
code applications to run with both Tcl 8.3 and 8.4+.
<p>
To run Tcl 8.3 dmh package applications with Tcl 8.4+, you need to:
<ol>
<li>Call dmh_import and optionally restore the old dmh package <b>lset</b> command.
<p>
If you restore the old lset you will not be able to use the
new core lset command, but you may skip the next step.
<p>
The Hume SECS/GEM applications call 
dmh_import without restoring the old lset.  If you have
custom SECS/GEM application code that uses lset, in order to run with Tcl
8.4+, you need to either revise the lset usages to <a href="vset.html">vset</a>, 
or customize your application startup to call dmh_import with the
lset restore option set to 1.&nbsp;  You do not need
to change your custom SECS/GEM code to continue running on Tcl
8.3 with or without the latest dmh package or GEM application
changes.
<p>
<li>
If you did not restore the old lset, then replace usage of lset
with <b>vset</b>, and have the file vset.tcl as part of your auto_load
library.  The file vset.tcl is part of Tcl 8.3.3 dmh
package libraries, and part of the GEM application library for 
builds after September, 2002.
The logic in vset.tcl lets you use
the vset command with Tcl 8.3 and earlier.  This is the
proper and supported way to have an application that can
run with the older and newer Tcl versions, and can use 
the new core lset command when running in Tcl 8.4+.
<p>
<li>
Replace any access to dmh package global variables
such as <b>mh_group</b>, <b>SQL()</b>, or <b>dmh()</b>
with access using the <a href="dmh_var.html">dmh_var</a> procedure.&nbsp;
You do not need to change references to <b>mbxmsg</b>, <b>mbxreply</b>,
or <b>mbxdest</b> that occur in <b>mbx whenmsg</b> Tcl logic outside
of procedures.&nbsp; The <b>mbx whenmsg</b> logic is executed in
the <b>::dmh</b> namespace so these references are found.&nbsp; If you
reference <b>mbxmsg</b>, <b>mbxreply</b>, or <b>mbxdest</b>
from inside of a procedure, they are no longer global, and using
<b>dmh_var</b> is recommended.&nbsp;
The GEM application code has examples of using <b>dmh_var</b>.&nbsp; 
The dmh_var.tcl file has been
made part of the Tcl 8.3.3 dmh package library,
and the GEM application library for builds after September, 2002,
so that you can revise applications to be compatible with Tcl 8.3 and 8.4+.
</ol>

<P>
<H2>AUTHOR</H2>
 Ed Hume, Hume Integration Software<P>
<H2>SEE ALSO</H2>
 <a href="dmh_var.html">dmh_var</a> <a href="global.html">global</a> <a href="namespace.html">namespace</a>
<H2>KEYWORDS  </H2>
 DMH dmh_import namespace
</BODY>
</HTML>
